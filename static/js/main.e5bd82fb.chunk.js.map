{"version":3,"sources":["Header.tsx","Card/animations.ts","Card/Title.tsx","Card/Image.tsx","utils/use-wheel-scroll.ts","Card/index.tsx","utils/use-inverted-border-radius.ts","utils/use-scroll-constraints.ts","CardList.tsx","index.tsx"],"names":["Header","react","style","display","justifyContent","alignItems","marginBottom","position","xmlns","viewBox","top","left","transform","width","zIndex","fill","fill-opacity","d","framer_motion_es","img","className","src","alt","borderRadius","height","initial","opacity","y","animate","openSpring","type","stiffness","damping","closeSpring","Title","_ref","title","category","isSelected","inverted","useInvertedScale","x","div","transition","transformTemplate","scaleTranslate","Object","objectSpread","originX","originY","_ref2","scaleX","scaleY","concat","Image","id","pointOfInterest","startX","endX","startY","endY","overlayColor","background","deltaThreshold","elasticFactor","springTo","value","from","to","isAnimating","start","complete","animation","spring","velocity","getVelocity","update","v","set","stop","debouncedSpringTo","debounce","dismissDistance","Card","memo","history","description","links","useMotionValue","radius","useEffect","updateRadius","latestX","get","latestY","xRadius","yRadius","unsubScaleX","onChange","unsubScaleY","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","useInvertedBorderRadius","cardRef","useRef","constraints","ref","measureConstraints","_useState","useState","bottom","_useState2","slicedToArray","setConstraints","element","current","viewportHeight","window","innerHeight","contentTop","offsetTop","contentHeight","offsetHeight","scrollableViewport","Math","min","useScrollConstraints","checkSwipeToDismiss","push","containerRef","onWheelCallback","isActive","useDomEvent","event","preventDefault","currentY","newY","deltaY","startedAnimation","isWithinBounds","mix","cancel","passive","useWheelScroll","updatedDescription","split","Card_Overlay","layoutTransition","drag","dragConstraints","onDrag","onUpdate","latest","Image_Image","Title_Title","map","string","link","href","linkHref","target","linkText","react_router_dom","prev","next","Overlay","duration","pointerEvents","List","match","cardData","card","assign","key","params","CardList","react_router","path","component","App","Header_Header","CardList_CardList","document","rootElement","getElementById","render"],"mappings":"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","file":"static/js/main.e5bd82fb.chunk.js","sourcesContent":["import * as React from \"react\";\nimport { Avatar } from \"react-lorem-ipsum\";\nimport { motion, useInvertedScale } from \"framer-motion\";\n\nexport const Header = () => (\n  <header style={{display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: \"30px\", position: \"relative\"}}>\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1440 320\" style={{position:\"absolute\",top:-80,left:\"50%\",transform: \"translateX(-50%) rotate(180deg)\",width: \"100vw\",zIndex:-1}}>\n    <path fill=\"#273036\" fill-opacity=\".5\" d=\"M0,224L60,192C120,160,240,96,360,90.7C480,85,600,139,720,138.7C840,139,960,85,1080,58.7C1200,32,1320,32,1380,32L1440,32L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z\"></path>\n  </svg>\n  <h2>Some things I've been working on</h2>\n   \n      <motion.img\n        className=\"me-image\"\n        src=\"images/me.jpg\"\n        alt=\"\"\n        style={{borderRadius: 35, height:70, width:70}}\n        initial={{opacity: 0, y: 50}}\n        animate={{opacity: 1, y: 0}}\n      />\n   \n          \n  </header>\n);\n","export const openSpring = { type: \"spring\", stiffness: 200, damping: 30 };\nexport const closeSpring = { type: \"spring\", stiffness: 300, damping: 35 };\n","import * as React from \"react\";\nimport { motion, useInvertedScale } from \"framer-motion\";\nimport { closeSpring, openSpring } from \"./animations\";\n\nexport const Title = ({ title, category, isSelected }) => {\n  const inverted = useInvertedScale();\n  const x = isSelected ? 30 : 15;\n  const y = x;\n\n  return (\n    <motion.div\n      className=\"title-container\"\n      initial={false}\n      animate={{ x, y }}\n      transition={isSelected ? openSpring : closeSpring}\n      transformTemplate={scaleTranslate}\n      style={{ ...inverted, originX: 0, originY: 0 }}\n    >\n      <span className=\"category\">{category}</span>\n      <h2>{title}</h2>\n    </motion.div>\n  );\n};\n\n/**\n * `transform` is order-dependent, so if you scale(0.5) before translateX(100px),\n * the visual translate will only be 50px.\n *\n * The intuitive pattern is to translate before doing things like scale and\n * rotate that will affect the coordinate space. So Framer Motion takes an\n * opinion on that and allows you to animate them\n * individually without having to write a whole transform string.\n *\n * However in this component we're doing something novel by inverting\n * the scale of the parent component. Because of this we want to translate\n * through scaled coordinate space, and can use the transformTemplate prop to do so.\n */\nconst scaleTranslate = ({ x, y, scaleX, scaleY }) =>\n  `scaleX(${scaleX}) scaleY(${scaleY}) translate(${x}, ${y}) translateZ(0)`;\n","import * as React from \"react\";\nimport { motion, useInvertedScale } from \"framer-motion\";\nimport { closeSpring } from \"./animations\";\n\nexport const Image = ({\n  id,\n  isSelected,\n  pointOfInterest = 0,\n  width,\n  startX,\n  endX,\n  startY,\n  endY,\n  overlayColor\n}) => {\n  const inverted = useInvertedScale();\n\n  return (\n    <motion.div\n      className=\"card-image-container\"\n      style={{ ...inverted, originX: 0, originY: 0 }}\n    > <div className=\"card-image-overlay\" style={{background: overlayColor}}></div>\n      <motion.img\n        className=\"card-image\"\n        src={`images/${id}.png`}\n        alt=\"\"\n        initial={false}\n        animate={\n          isSelected ? { x: endX, y: endY} : { x: startX, y: startY }\n        }\n        style={{width: width}}\n        transition={closeSpring}\n      />\n    </motion.div>\n  );\n};\n","import { RefObject } from \"react\";\nimport { useDomEvent, MotionValue } from \"framer-motion\";\nimport { spring } from \"popmotion\";\nimport { mix } from \"@popmotion/popcorn\";\nimport { debounce } from \"lodash\";\n\ninterface Constraints {\n  top: number;\n  bottom: number;\n}\n\n// Absolute distance a wheel scroll event can travel outside of\n// the defined constraints before we fire a \"snap back\" animation\nconst deltaThreshold = 5;\n\n// If wheel event fires beyond constraints, multiple the delta by this amount\nconst elasticFactor = 0.2;\n\nfunction springTo(value: MotionValue, from: number, to: number) {\n  if (value.isAnimating()) return;\n\n  value.start(complete => {\n    const animation = spring({\n      from,\n      to,\n      velocity: value.getVelocity(),\n      stiffness: 400,\n      damping: 40\n    }).start({\n      update: (v: number) => value.set(v),\n      complete\n    });\n\n    return () => animation.stop();\n  });\n}\n\nconst debouncedSpringTo = debounce(springTo, 100);\n\n/**\n * Re-implements wheel scroll for overlflow: hidden elements.\n *\n * Adds Apple Watch crown-style constraints, where the user\n * must continue to input wheel events of a certain delta at a certain\n * speed or the scrollable container will spring back to the nearest\n * constraint.\n *\n * Currently achieves this using event.deltaY and a debounce, which\n * feels pretty good during direct input but it'd be better to increase\n * the deltaY threshold during momentum scroll.\n *\n * TODOs before inclusion in Framer Motion:\n * - Detect momentum scroll and increase delta threshold before spring\n * - Remove padding hack\n * - Handle x-axis\n * - Perhaps handle arrow and space keyboard events?\n *\n * @param ref - Ref of the Element to attach listener to\n * @param y - MotionValue for the scrollable element - might be different to the Element\n * @param constraints - top/bottom scroll constraints in pixels.\n * @param isActive - `true` if this listener should fire.\n */\nexport function useWheelScroll(\n  ref: RefObject<Element>,\n  y: MotionValue<number>,\n  constraints: Constraints | null,\n  onWheelCallback: (e: WheelEvent) => void,\n  isActive: boolean\n) {\n  const onWheel = (event: WheelEvent) => {\n    event.preventDefault();\n\n    const currentY = y.get();\n    let newY = currentY - event.deltaY;\n    let startedAnimation = false;\n    const isWithinBounds =\n      constraints && newY >= constraints.top && newY <= constraints.bottom;\n\n    if (constraints && !isWithinBounds) {\n      newY = mix(currentY, newY, elasticFactor);\n\n      if (newY < constraints.top) {\n        if (event.deltaY <= deltaThreshold) {\n          springTo(y, newY, constraints.top);\n          startedAnimation = true;\n        } else {\n          debouncedSpringTo(y, newY, constraints.top);\n        }\n      }\n\n      if (newY > constraints.bottom) {\n        if (event.deltaY >= -deltaThreshold) {\n          springTo(y, newY, constraints.bottom);\n          startedAnimation = true;\n        } else {\n          debouncedSpringTo(y, newY, constraints.bottom);\n        }\n      }\n    }\n\n    if (!startedAnimation) {\n      y.stop();\n      y.set(newY);\n    } else {\n      debouncedSpringTo.cancel();\n    }\n\n    onWheelCallback(event);\n  };\n\n  useDomEvent(ref, \"wheel\", isActive && onWheel, { passive: false });\n}\n","import * as React from \"react\";\nimport { memo, useRef } from \"react\";\nimport { motion, useMotionValue } from \"framer-motion\";\nimport { Link } from \"react-router-dom\";\nimport { useInvertedBorderRadius } from \"../utils/use-inverted-border-radius\";\nimport { CardData } from \"../types\";\nimport { Title } from \"./Title\";\nimport { Image } from \"./Image\";\nimport { openSpring, closeSpring } from \"./animations\";\nimport { useScrollConstraints } from \"../utils/use-scroll-constraints\";\nimport { useWheelScroll } from \"../utils/use-wheel-scroll\";\n\ninterface Props extends CardData {\n  isSelected: boolean;\n  history: {\n    push: (route: string) => void;\n  };\n}\n\n// Distance in pixels a user has to scroll a card down before we recognise\n// a swipe-to dismiss action.\nconst dismissDistance = 150;\n\nexport const Card = memo(\n  ({\n    isSelected,\n    id,\n    title,\n    category,\n    history,\n    pointOfInterest,\n    width,\n    startX,\n    endX,\n    startY,\n    endY,\n    overlayColor,\n    description,\n    links,\n  }: Props) => {\n    const y = useMotionValue(0);\n    const zIndex = useMotionValue(isSelected ? 2 : 0);\n\n    // Maintain the visual border radius when we perform the layoutTransition by inverting its scaleX/Y\n    const inverted = useInvertedBorderRadius(20);\n\n    // We'll use the opened card element to calculate the scroll constraints\n    const cardRef = useRef(null);\n    const constraints = useScrollConstraints(cardRef, isSelected);\n\n    function checkSwipeToDismiss() {\n      y.get() > dismissDistance && history.push(\"/\");\n    }\n\n    function checkZIndex(latest) {\n      if (isSelected) {\n        zIndex.set(2);\n      } else if (!isSelected && latest.scaleX < 1.01) {\n        zIndex.set(0);\n      }\n    }\n\n    // When this card is selected, attach a wheel event listener\n    const containerRef = useRef(null);\n    useWheelScroll(\n      containerRef,\n      y,\n      constraints,\n      checkSwipeToDismiss,\n      isSelected\n    );\n\n    const updatedDescription = description.split('|');\n\n    return (\n      <li ref={containerRef} className={`card`}>\n        <Overlay isSelected={isSelected} />\n        <div className={`card-content-container ${isSelected && \"open\"}`}>\n          <motion.div\n            ref={cardRef}\n            className=\"card-content\"\n            style={{ ...inverted, zIndex, y }}\n            layoutTransition={isSelected ? openSpring : closeSpring}\n            drag={isSelected ? \"y\" : false}\n            dragConstraints={constraints}\n            onDrag={checkSwipeToDismiss}\n            onUpdate={checkZIndex}\n          >\n            <Image\n              id={id}\n              isSelected={isSelected}\n              pointOfInterest={pointOfInterest}\n              width={width}\n              startX={startX}\n              endX={endX}\n              startY={startY}\n              endY={endY}\n              overlayColor={overlayColor}\n            />\n            <Title title={title} category={category} isSelected={isSelected} />\n            <motion.div\n              className=\"content-container\"\n              style={{ ...inverted, originY: 0, originX: 0 }}\n            >\n              {updatedDescription.map((string) => {return <p>{string}</p>})}\n              {links ? links.map((link) => {return <a href={link.linkHref} className=\"card-button\" target=\"blank\">{link.linkText}</a>}) : \" \"}\n            </motion.div>\n          </motion.div>\n        </div>\n        {!isSelected && <Link to={id} className={`card-open-link`} />}\n      </li>\n    );\n  },\n  (prev, next) => prev.isSelected === next.isSelected\n);\n\nconst Overlay = ({ isSelected }) => (\n  <motion.div\n    initial={false}\n    animate={{ opacity: isSelected ? 1 : 0 }}\n    transition={{ duration: 0.2 }}\n    style={{ pointerEvents: isSelected ? \"auto\" : \"none\" }}\n    className=\"overlay\"\n  >\n    <Link to=\"/portfolio/\" />\n  </motion.div>\n);\n","import { useMotionValue, useInvertedScale } from \"framer-motion\";\nimport { useEffect } from \"react\";\n\n/**\n * Avoid the stretch/squashing of border radius by using inverting them\n * throughout the component's layout transition.\n *\n * It would be possible to animate to/from different radius, for instance\n * in mobile mode from rounded to square for full-screen panels, by passing\n * the calculated inverted transform to `layoutTransition` when set as a function.\n *\n * Those inverted scales could be provided here to act as a `from` value,\n * then we can use Popcorn's `mix` function to get our\n *\n * @param radius\n */\nexport function useInvertedBorderRadius(radius: number) {\n  const scaleX = useMotionValue(1);\n  const scaleY = useMotionValue(1);\n  const inverted = useInvertedScale({ scaleX, scaleY });\n  const borderRadius = useMotionValue(`${radius}px`);\n\n  useEffect(() => {\n    function updateRadius() {\n      const latestX = inverted.scaleX.get();\n      const latestY = inverted.scaleY.get();\n      const xRadius = latestX * radius + \"px\";\n      const yRadius = latestY * radius + \"px\";\n\n      borderRadius.set(`${xRadius} ${yRadius}`);\n    }\n\n    const unsubScaleX = inverted.scaleX.onChange(updateRadius);\n    const unsubScaleY = inverted.scaleY.onChange(updateRadius);\n\n    return () => {\n      unsubScaleX();\n      unsubScaleY();\n    };\n  }, [radius]);\n\n  return {\n    scaleX,\n    scaleY,\n    borderTopLeftRadius: borderRadius,\n    borderTopRightRadius: borderRadius,\n    borderBottomLeftRadius: borderRadius,\n    borderBottomRightRadius: borderRadius\n  };\n}\n","import { useState, useEffect } from \"react\";\n\ninterface Constraints {\n  top: number;\n  bottom: number;\n}\n\n/**\n * Calculate the top/bottom scroll constraints of a full-screen element vs the viewport\n */\nexport function useScrollConstraints(ref, measureConstraints: boolean) {\n  const [constraints, setConstraints] = useState<Constraints>({\n    top: 0,\n    bottom: 0\n  });\n\n  useEffect(() => {\n    if (!measureConstraints) return;\n\n    const element = ref.current;\n    const viewportHeight = window.innerHeight;\n    const contentTop = element.offsetTop;\n    const contentHeight = element.offsetHeight;\n    const scrollableViewport = viewportHeight - contentTop * 2;\n    const top = Math.min(scrollableViewport - contentHeight, 0);\n\n    setConstraints({ top, bottom: 0 });\n  }, [measureConstraints]);\n\n  return constraints;\n}\n","import * as React from \"react\";\nimport { Card } from \"./Card\";\nimport { CardData } from \"./types\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\n\nconst List = ({ match, history }) => (\n  <ul className=\"card-list\">\n    {cardData.map(card => (\n      <Card\n        key={card.id}\n        isSelected={match.params.id === card.id}\n        history={history}\n        {...card}\n      />\n    ))}\n  </ul>\n);\n\nexport const CardList = () => (\n  <Router>\n    <Route path={[\"/portfolio/:id\", \"/portfolio/\"]} component={List} />\n  </Router>\n);\n\nconst cardData: CardData[] = [\n\n  {\n    id: \"smith\",\n    category: \"Javascript, Java, MySQL\",\n    title: \"Smith Optics\",\n    pointOfInterest: 120,\n    width: \"1050px\",\n    overlayColor: \"linear-gradient(rgb(247, 201, 192), rgb(203, 191, 158), rgb(158, 180, 125), rgb(109, 168, 92), rgb(47, 155, 58))\",\n    startX: -340,\n    startY: -70,\n    endX: 0,\n    endY: 0,\n    description: \"I spent the better part of the last two years on a team maintaining Smith's legacy ecommerce system, troubleshooting every kind of issue you can imagine and building out features. Here are some highlights:|-Building out custom landing pages with GreenSock|-Redoing the checkout system in React|-Coding features for handling warranty claims|-Handling complex data processing for a system transition\",\n    links: [{\n      linkHref: \"https://smithoptics.com\",\n      linkText: \"Smith Optics\"\n    }]\n  },\n  {\n    id: \"ppdemo\",\n    category: \"React, Typescript, framer motion\",\n    title: \"Menu Interface\",\n    pointOfInterest: 0,\n    width: \"973px\",\n    overlayColor: \"linear-gradient(rgb(71, 179, 246), rgb(128, 191, 241), rgb(168, 204, 236), rgb(202, 216, 231), rgb(233, 229, 225))\",\n    startX: -100,\n    startY: 0,\n    endX: -140,\n    endY: 0,\n    description: \"Last weekend I thought I'd try out Typescript.|I recently interviewed at a startup in the restaurant/food delivery game, so I thought I'd mock up an interface for a client (restaurant) to use to build their menu.|It also turned out to be a nice dive into Framer Motion. I only worked on this in the evenings over the course of a week so it's definitely a bit clunky, but it felt nice to flex the React muscles again.  \",\n    links: [{\n      linkHref: \"https://rplumlee.github.io/ppdemo/\",\n      linkText: \"Live Demo\"\n    },\n    {\n      linkHref: \"https://github.com/rplumlee/ppdemo\",\n      linkText: \"github repo\"\n    }]\n  },\n  {\n    id: \"vsv\",\n    category: \"wordpress, javascript, php\",\n    title: \"Visit Sun Valley\",\n    pointOfInterest: 260,\n    width: \"785px\",\n    overlayColor: \"linear-gradient(rgb(202, 145, 207), rgb(192, 120, 202), rgb(181, 93, 197), rgb(169, 64, 192), rgb(156, 21, 186))\",\n    startX: 0,\n    startY: -40,\n    endX: -70,\n    endY: 0,\n    description: \"Another client that I spent quite a bit of time on is Visit Sun Valley. It's easily the largest Wordpress site I've helped manage. Between being active bloggers and maintaining a comprehensive resource guide to traveling to and from Sun Valley, they are the definitive business directory and all seasons activity guide.|Some things I worked on are:|-Building a new front end for their calendar plugin using Handlebars and JQuery|-Coding a widget that takes the user's browser location and finds the quickest and cheapest flight routes to Sun Valley|-building out a protected board members section to integrated with the Wordpress backend for the client to manage and display documents|-Designing and building a variety of content pages and templates\",\n    links: [{\n      linkHref: \"https://visitsunvalley.com\",\n      linkText: \"Visit Sun Valley\"\n    }]\n  },\n  {\n    id: \"gilded-rose\",\n    category: \"Typescript, Jest\",\n    title: \"The Gilded Rose\",\n    pointOfInterest: 200,\n    width: \"800px\",\n    overlayColor: \"linear-gradient(rgb(191, 2, 2), rgb(188, 69, 63), rgb(177, 103, 118), rgb(151, 133, 176), rgb(84, 162, 236))\",\n    startX: 1,\n    startY: 0,\n    endX: -5,\n    endY: -5,\n    description: \"I was passed this Typescript coding challenge recently and gave it a go. I had to refactor an inventory system as if I were working on legacy code, assuming the current system was a dependency elsewhere and needed to maintain functionality.|The project was initialized with TSDX (https://github.com/formium/tsdx), so I used Jest for the testing.\",\n    links: [{\n      linkHref: \"https://github.com/rplumlee/The-Gilded-Rose\",\n      linkText: \"Repo\"\n    }]\n  },\n  {\n    id: \"portfolio\",\n    category: \"React, Typescript, framer motion\",\n    title: \"Portfolio Fork\",\n    pointOfInterest: 200,\n    width: \"800px\",\n    overlayColor: \"linear-gradient( rgb(42, 231, 114), rgb(76, 197, 145), rgb(82, 163, 171), rgb(68, 129, 195), rgb(2, 96, 218))\",\n    startX: 1,\n    startY: 0,\n    endX: -5,\n    endY: -5,\n    description: \"I decided to start my portfolio with the App Store UI demo linked to on Framer Motion (https://codesandbox.io/s/app-store-ui-using-react-and-framer-motion-5z1u1), but soon realized it didn't have everything I needed.  I've been extending it as I go, so far I've added the following features: |-Card overlay configuration|-Extra options for controlling image positioning|-3 row repeating layout|-Newline functionality in expanded content|-Ability to add buttons to cards\",\n    links: [{\n      linkHref: \"https://github.com/rplumlee/portfolio\",\n      linkText: \"Repo\"\n    }]\n  },\n  {\n    id: \"moore\",\n    category: \"Shopify, Liquid, Javascript\",\n    title: \"Moore Fashion\",\n    pointOfInterest: 200,\n    width: \"800px\",\n    overlayColor: \"linear-gradient(to top,rgb(188, 247, 139), rgb(199, 214, 155), rgb(204, 179, 169), rgb(206, 144, 181), rgb(204, 104, 192))\",\n    startX: 1,\n    startY: 0,\n    endX: -5,\n    endY: -5,\n    description: \"This a project I picked up for a local fashion designer in my spare time and was my first foray into Shopify.|The client wanted a clean, unique look and there weren't any premium themes that fit the bill. I decided to build one using Fullpage.js and the liquid templates so that the client could inject and edit content in a variety of ways.\",\n    links: [{\n      linkHref: \"https://wearmoore.com/\",\n      linkText: \"Moore Fashion\"\n    }]\n  },\n  {\n    id: \"sip\",\n    category: \"Wordpress, php, javascript\",\n    title: \"Senior Insurance Parter\",\n    pointOfInterest: 200,\n    width: \"800px\",\n    overlayColor: \"linear-gradient(rgb(32, 68, 186), rgb(54, 104, 199), rgb(64, 140, 212), rgb(67, 176, 225), rgb(62, 214, 237))\",\n    startX: 1,\n    startY: 0,\n    endX: -45,\n    endY: -70,\n    description: \"This was a quick and fun project I just set up for an insurance company. |The initial buildout consisted of designing the site and building a quote engine that would return insurance policies for users based on a questionaire.|It's built on wordpress using the Jevelin theme, and plain old JQuery for the quote engine.\",\n    links: [{\n      linkHref: \"https://seniorinsurancepartner.com/\",\n      linkText: \"Senior Insurance Partner\"\n    }]\n  }/*,\n  {\n    id: \"adapt\",\n    category: \"Wordpress, php, javascript\",\n    title: \"ADAPT Training\",\n    pointOfInterest: 200,\n    width: \"800px\",\n    overlayColor: \"linear-gradient(to top,rgb(172, 15, 235), rgb(171, 102, 228), rgb(163, 151, 219), rgb(146, 195, 210), rgb(110, 237, 199))\",\n    startX: 1,\n    startY: 0,\n    endX: -5,\n    endY: -5,\n    description: \"This a project I picked up for a local fashion designer in my spare time and was my first foray into Shopify.|The client wanted a clean, unique look and there weren't any premium themes that fit the bill. I decided to build one using Fullpage.js and the liquid templates so that the client could inject and edit content in a variety of ways.\",\n    links: [{\n      linkHref: \"https://wearmoore.com/\",\n      linkText: \"Moore Fashion\"\n    }]\n  }/*,\n  // Photo by Simone Hutsch on Unsplash\n  {\n    id: \"d\",\n    category: \"Photography\",\n    title: \"The Latest Ultra-Specific Photography Editing Apps\",\n    pointOfInterest: 150,\n    width: \"#FA6779\",\n    overlayColor: \"rgba(0,0,0,.4)\",\n    startX: 0,\n    startY: 0,\n    endX: 0,\n    endY: 0,\n    description: \"hey\",\n    links: [{\n      linkHref: \"https://rplumlee.github.io/ppdemo/\",\n      linkText: \"Live Demo\"\n    }]\n  },\n  // Photo by Siora Photography on Unsplash\n  {\n    id: \"h\",\n    category: \"They're all the same\",\n    title: \"100 Cupcake Apps for the Cupcake Connoisseur\",\n    pointOfInterest: 60,\n    width: \"#282F49\",\n    overlayColor: \"rgba(0,0,0,.4)\",\n    startX: 0,\n    startY: 0,\n    endX: 0,\n    endY: 0,\n    description: \"hey\",\n    links: [{\n      linkHref: \"https://rplumlee.github.io/ppdemo/\",\n      linkText: \"Live Demo\"\n    }]\n  },\n  // Photo by Yerlin Matu on Unsplash\n  {\n    id: \"e\",\n    category: \"Cats\",\n    title: \"Yes, They Are Sociopaths\",\n    pointOfInterest: 200,\n    width: \"#AC7441\",\n    overlayColor: \"rgba(0,0,0,.4)\",\n    startX: 0,\n    startY: 0,\n    endX: 0,\n    endY: 0,\n    description: \"hey\",\n    links: [{\n      linkHref: \"https://rplumlee.github.io/ppdemo/\",\n      linkText: \"Live Demo\"\n    }]\n  },\n  // Photo by Ali Abdul Rahman on Unsplash\n  {\n    id: \"b\",\n    category: \"Holidays\",\n    title: \"Seriously the Only Escape is the Stratosphere\",\n    pointOfInterest: 260,\n    width: \"#CC555B\",\n    overlayColor: \"rgba(0,0,0,.4)\",\n    startX: 0,\n    startY: 0,\n    endX: 0,\n    endY: 0,\n    description: \"hey|new paragraph|another one\",\n    links: [{\n      linkHref: \"https://rplumlee.github.io/ppdemo/\",\n      linkText: \"Live Demo\"\n    }]\n  }*/\n];\n","import * as React from \"react\";\nimport { render } from \"react-dom\";\nimport { Header } from \"./Header\";\nimport { CardList } from \"./CardList\";\n\nimport \"./styles.css\";\ndocument.title = \"Reid's Portfolio\"\nfunction App() {\n  return (\n    <div className=\"container\">\n      <Header />\n      <CardList />\n    </div>\n  );\n}\n\nconst rootElement = document.getElementById(\"root\");\nrender(<App />, rootElement);\n"],"sourceRoot":""}